<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Composting & Hospicing Journey</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h1,
        h2 {
            color: #2c3e50;
        }

        .element {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            transition: all 0.5s ease-in-out;
        }

        .story {
            background-color: #f9f9f9;
            border-left: 3px solid #2c3e50;
        }

        .memory-seed {
            background-color: #e6f7ff;
        }

        .composted {
            background-color: #e6ffe6;
        }

        .hospiced {
            background-color: #fff0e6;
        }

        .button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-size: 16px;
            margin-top: 20px;
        }

        .button:hover {
            background-color: #2980b9;
        }

        .hospice-settings label,
        .artifact-input label {
            display: block;
            margin-bottom: 5px;
        }

        .hospice-settings input,
        .hospice-settings select,
        .artifact-input input,
        .artifact-input textarea {
            margin-bottom: 10px;
            width: 100%;
            padding: 5px;
        }

        #timeSimulation {
            margin-top: 20px;
            text-align: center;
        }

        #timeSlider {
            width: 100%;
            margin-bottom: 10px;
        }

        #uploadedImage {
            max-width: 100%;
            height: auto;
            margin-top: 10px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Digital Composting & Hospicing Journey</h1>
        <div id="journey"></div>
        <button id="proceedButton" class="button">Proceed</button>
    </div>

    <script>
        let currentStep = 0;
        let hospiceParameters = {};
        let originalArtifact = {
            title: 'Summer Vacation in Paris',
            description: 'Standing in front of the Eiffel Tower, feeling on top of the world. The city lights twinkled below as the sun set, painting the sky in vibrant oranges and pinks.',
            date: '2022-07-15',
            location: 'Paris, France',
            people: ['Sarah', 'John', 'Emma'],
            emotions: ['Excited', 'Awestruck', 'Joyful'],
            image: 'https://example.com/eiffel_tower.jpg' // Replace with an actual image URL for testing
        };

        const steps = [
            { type: 'story', content: "Welcome to the Digital Composting & Hospicing Journey. I'm Zara, your Digital Composter and Hospice Worker. Let's process a meaningful digital artifact from your life." },
            { type: 'upload', content: "Please provide details about a significant memory you'd like to compost and hospice." },
            { type: 'story', content: "Thank you for sharing this memory. Now, let's create a 'memory seed' - a compact digital representation that preserves the essence of your artifact while reducing its data size." },
            { type: 'memory-seed', content: "Creating memory seed..." },
            { type: 'story', content: "Next, we'll further distill the memory seed, maintaining its core information while reducing its digital footprint even more. This is the composting process." },
            { type: 'composted', content: "Composting memory..." },
            { type: 'story', content: "Now for the hospicing part. We'll set parameters to ensure your composted memory is cared for and can be accessed meaningfully in the future. You'll decide how long it should be retained and what happens at the end of its digital life." },
            { type: 'hospiced', content: "Setting up hospice..." },
            { type: 'story', content: "Let's observe how your digital artifact will transform over time based on the hospice parameters you've set." },
            { type: 'time-simulation', content: "Time Simulation" },
            { type: 'story', content: "This process allows us to honor our digital legacies while being mindful of the environmental impact of data storage. It's a way of ensuring that our most precious digital memories can live on sustainably." }
        ];

        function addElement(type, content) {
            const element = document.createElement('div');
            element.className = `element ${type}`;
            element.innerHTML = content;
            document.getElementById('journey').appendChild(element);
        }

        function uploadArtifact() {
            const uploadContent = `
            <div class="artifact-input">
                <h3>Upload Your Digital Artifact</h3>
                <label for="title">Title of Memory:</label>
                <input type="text" id="title" value="${originalArtifact.title}" required>
                
                <label for="description">Description:</label>
                <textarea id="description" rows="4" required>${originalArtifact.description}</textarea>
                
                <label for="date">Date of Memory:</label>
                <input type="date" id="date" value="${originalArtifact.date}" required>
                
                <label for="location">Location:</label>
                <input type="text" id="location" value="${originalArtifact.location}" required>
                
                <label for="people">People Involved (comma-separated):</label>
                <input type="text" id="people" value="${originalArtifact.people.join(', ')}">
                
                <label for="emotions">Emotions Felt (comma-separated):</label>
                <input type="text" id="emotions" value="${originalArtifact.emotions.join(', ')}">
                
                <label for="imageUpload">Upload an Image:</label>
                <input type="file" id="imageUpload" accept="image/*">
                
                <button onclick="processUpload()" class="button">Submit Memory</button>
            </div>
        `;
            addElement('upload', uploadContent);
        }

        function processUpload() {
            originalArtifact.title = document.getElementById('title').value;
            originalArtifact.description = document.getElementById('description').value;
            originalArtifact.date = document.getElementById('date').value;
            originalArtifact.location = document.getElementById('location').value;
            originalArtifact.people = document.getElementById('people').value.split(',').map(p => p.trim());
            originalArtifact.emotions = document.getElementById('emotions').value.split(',').map(e => e.trim());

            const imageUpload = document.getElementById('imageUpload');
            if (imageUpload.files[0]) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    originalArtifact.image = e.target.result;
                    displayOriginalArtifact();
                }
                reader.readAsDataURL(imageUpload.files[0]);
            } else {
                displayOriginalArtifact();
            }
        }

        function displayOriginalArtifact() {
            let content = `
            <h3>${originalArtifact.title}</h3>
            <p><strong>Date:</strong> ${originalArtifact.date}</p>
            <p><strong>Location:</strong> ${originalArtifact.location}</p>
            <p><strong>Description:</strong> ${originalArtifact.description}</p>
            <p><strong>People:</strong> ${originalArtifact.people.join(', ')}</p>
            <p><strong>Emotions:</strong> ${originalArtifact.emotions.join(', ')}</p>
        `;
            if (originalArtifact.image) {
                content += `<img src="${originalArtifact.image}" id="uploadedImage">`;
            }
            addElement('artifact', content);
            document.getElementById('proceedButton').style.display = 'block';
        }

        function createMemorySeed() {
            let seedContent = `
                <h4>${originalArtifact.title}</h4>
                <p><strong>Date:</strong> ${originalArtifact.date}</p>
                <p><strong>Location:</strong> ${originalArtifact.location}</p>
                <p><strong>Key Elements:</strong> ${originalArtifact.description.split(' ').slice(0, 15).join(' ')}...</p>
            `;
            if (originalArtifact.image) {
                seedContent += `<img src="${originalArtifact.image}" style="filter: blur(3px) sepia(50%); max-width: 70%;">`;
            }
            addElement('memory-seed', seedContent);
        }

        function createCompostedMemory() {
            let compostedContent = `
                <h4>${originalArtifact.title.split(' ').slice(0, 3).join(' ')}...</h4>
                <p><strong>${originalArtifact.date.split('-')[0]}</strong> | ${originalArtifact.location.split(',')[0]}</p>
                <p>${originalArtifact.description.split(' ').slice(0, 7).join(' ')}...</p>
                <p>${originalArtifact.emotions[0]}, ${originalArtifact.people[0]}</p>
            `;
            if (originalArtifact.image) {
                compostedContent += `<img src="${originalArtifact.image}" style="filter: blur(5px) grayscale(50%) sepia(20%); max-width: 50%;">`;
            }
            addElement('composted', compostedContent);
        }

        function setupHospice() {
            const hospiceContent = `
                <div class="hospice-settings">
                    <label>Retention Period:
                        <input type="number" min="1" max="100" value="10" id="retentionPeriod"> years
                    </label>
                    <label>Access Frequency:
                        <select id="accessFrequency">
                            <option value="high">High (weekly)</option>
                            <option value="medium" selected>Medium (monthly)</option>
                            <option value="low">Low (yearly)</option>
                        </select>
                    </label>
                    <label>End-of-life Action:
                        <select id="endOfLifeAction">
                            <option value="archive">Archive</option>
                            <option value="delete">Delete</option>
                            <option value="repurpose">Repurpose</option>
                        </select>
                    </label>
                    <button onclick="setHospiceParameters()" class="button">Apply Settings</button>
                </div>
            `;
            addElement('hospiced', hospiceContent);
        }

        function setHospiceParameters() {
            hospiceParameters = {
                retentionPeriod: parseInt(document.getElementById('retentionPeriod').value),
                accessFrequency: document.getElementById('accessFrequency').value,
                endOfLifeAction: document.getElementById('endOfLifeAction').value
            };

            addElement('story', `<p>Zara: "Thank you for setting the hospice parameters. Your memory will be retained for ${hospiceParameters.retentionPeriod} years with ${hospiceParameters.accessFrequency} access frequency. At the end of its life, it will be ${hospiceParameters.endOfLifeAction}d. This journey will give you a glimpse into how your digital legacy might evolve over time, and perhaps inspire you to think about your own digital afterlife."</p>`);

            document.getElementById('proceedButton').style.display = 'block';
        }

        function addTimeSimulation() {
            const simulationContent = `
        <input type="range" id="timeSlider" min="0" max="${hospiceParameters.retentionPeriod}" value="0">
        <p id="currentTime">Current Time: Year 0</p>
        <div id="transformedArtifact"></div>
        <div id="reflectionPrompt"></div>
    `;
            addElement('time-simulation', simulationContent);

            const timeSlider = document.getElementById('timeSlider');
            timeSlider.addEventListener('input', () => {
                const year = parseInt(timeSlider.value);
                document.getElementById('currentTime').textContent = `Current Time: Year ${year}`;
                updateTransformedArtifact(year);
                updateReflectionPrompt(year);
            });
        }

        function updateTransformedArtifact(year) {
            const transformedArtifact = document.getElementById('transformedArtifact');
            const progress = year / hospiceParameters.retentionPeriod;
            let content = '';

            if (progress < 0.33) {
                content = createEarlyStageMemory(progress);
            } else if (progress < 0.66) {
                content = createMidStageMemory(progress);
            } else if (progress < 1) {
                content = createLateStageMemory(progress);
            } else {
                content = createEndOfLifeMemory();
            }

            if (shouldAccessMemory(year)) {
                content += createAccessPoint(year);
            }

            transformedArtifact.innerHTML = content;
        }
        function updateReflectionPrompt(year) {
            const reflectionPrompt = document.getElementById('reflectionPrompt');
            const cellsReplaced = Math.floor(year * 365 * 300000000); // Approx. number of skin cells replaced per year
            const hairGrowth = year * 6; // Approx. hair growth in inches per year

            let prompt = `
        <h4>Reflection Point: Year ${year}</h4>
        <p>In the ${year} years since this memory was created:</p>
        <ul>
            <li>You've replaced approximately ${cellsReplaced.toLocaleString()} skin cells.</li>
            <li>Your hair could have grown about ${hairGrowth} inches if left uncut.</li>
            <li>This digital artifact has been accessed ${Math.floor(year / getAccessInterval())} times.</li>
        </ul>
        <p>As you and your memory age together, consider:</p>
        <ul>
            <li>How has your perspective on this memory changed?</li>
            <li>What would you tell your past self about the importance of this moment?</li>
            <li>How do you want your own digital legacy to be preserved and accessed in the future?</li>
        </ul>
    `;

            if (year === hospiceParameters.retentionPeriod) {
                prompt += `
            <h4>End of Journey Reflection</h4>
            <p>As we reach the end of this memory's digital life, it's time to consider your own digital legacy. 
            Would you like to create a "Digital Will" to guide how your digital artifacts should be composted and hospiced in the future?</p>
            <button onclick="createDigitalWill()" class="button">Create Digital Will</button>
        `;
            }

            reflectionPrompt.innerHTML = prompt;
        }

        function shouldAccessMemory(year) {
            switch (hospiceParameters.accessFrequency) {
                case 'high': return year % 1 === 0;  // Every year
                case 'medium': return year % 3 === 0;  // Every 3 years
                case 'low': return year % 5 === 0;  // Every 5 years
            }
        }

        function createAccessPoint(year) {
            const accessPointContent = `
        <div class="access-point">
            <h4>Memory Access Point: Year ${year}</h4>
            <p>${generateAccessReflection(year)}</p>
        </div>
    `;
            return accessPointContent;
        }

        function generateAccessReflection(year) {
            const reflections = [
                `As you revisit this memory, you realize your perspective has shifted. The emotions feel different now, colored by ${year} years of new experiences.`,
                `This digital artifact has been a silent companion for ${year} years. Its presence in your life has been subtle but constant.`,
                `You've changed in ways you didn't expect. This memory, once so vivid, now feels like a distant echo of a former self.`,
                `The world has moved on, and so have you. Yet this memory remains, a digital anchor to a moment long past.`,
                `You wonder how many times you've thought of this memory over the years, and how it's shaped your journey without you realizing it.`
            ];
            return reflections[Math.floor(Math.random() * reflections.length)];
        }

        function getAccessInterval() {
            switch (hospiceParameters.accessFrequency) {
                case 'high': return 1;
                case 'medium': return 3;
                case 'low': return 5;
            }
        }

        function createDigitalWill() {
            const willContent = `
                <h3>Your Digital Will</h3>
                <p>Based on your journey with this memory, how would you like your digital legacy to be handled?</p>
                <form id="digitalWillForm">
                    <label>Default Retention Period for Your Digital Artifacts:
                        <input type="number" name="defaultRetention" min="1" max="100" value="10"> years
                    </label>
                    <label>Preferred Access Frequency:
                        <select name="defaultAccess">
                            <option value="high">High (yearly)</option>
                            <option value="medium" selected>Medium (every 3 years)</option>
                            <option value="low">Low (every 5 years)</option>
                        </select>
                    </label>
                    <label>Default End-of-life Action:
                        <select name="defaultEndOfLife">
                            <option value="archive">Archive</option>
                            <option value="delete">Delete</option>
                            <option value="repurpose">Repurpose</option>
                        </select>
                    </label>
                    <label>Special Instructions:
                        <textarea name="specialInstructions" rows="4"></textarea>
                    </label>
                    <button type="submit" class="button">Finalize Digital Will</button>
                </form>
            `;
            addElement('digital-will', willContent);

            document.getElementById('digitalWillForm').addEventListener('submit', function (e) {
                e.preventDefault();
                const formData = new FormData(e.target);
                const will = Object.fromEntries(formData);
                displayFinalReflection(will);
            });
        }

        function displayFinalReflection(will) {
            const finalReflection = `
                <h3>Journey Complete: Your Digital Legacy</h3>
                <p>Thank you for completing this journey of digital composting and hospicing. You've not only witnessed the lifecycle of a digital memory but also contemplated your own digital legacy.</p>
                <p>Your Digital Will preferences:</p>
                <ul>
                    <li>Default Retention Period: ${will.defaultRetention} years</li>
                    <li>Preferred Access Frequency: ${will.defaultAccess}</li>
                    <li>Default End-of-life Action: ${will.defaultEndOfLife}</li>
                    <li>Special Instructions: ${will.specialInstructions || 'None provided'}</li>
                </ul>
                <p>Zara: "Remember, as our digital selves evolve, so too can our wishes for our digital afterlife. This will is a starting point, a way to ensure that your digital legacy aligns with your values and desires. As you continue to create and curate your digital life, revisit and refine these choices. Your digital legacy is a living thing, growing and changing with you."</p>
                <p>Thank you for participating in this digital composting and hospicing journey. May it inspire mindful digital practices and a thoughtful approach to our ever-growing digital legacies.</p>
            `;
            addElement('final-reflection', finalReflection);
        }

        function createEarlyStageMemory(progress) {
            const words = originalArtifact.description.split(' ');
            const remainingWords = Math.max(5, Math.floor(words.length * (1 - progress)));
            let content = `
            <h4>${originalArtifact.title}</h4>
            <p><strong>Date:</strong> ${originalArtifact.date}</p>
            <p><strong>Location:</strong> ${originalArtifact.location}</p>
            <p>${words.slice(0, remainingWords).join(' ')}...</p>
            <p><strong>People:</strong> ${originalArtifact.people.slice(0, 2).join(', ')}</p>
            <p><strong>Emotions:</strong> ${originalArtifact.emotions.slice(0, 2).join(', ')}</p>
        `;
            if (originalArtifact.image) {
                content += transformImage(progress);
            }
            return content;
        }

        function createMidStageMemory(progress) {
            const words = originalArtifact.description.split(' ');
            const remainingWords = Math.max(3, Math.floor(words.length * (1 - progress)));
            let content = `
            <h4>${originalArtifact.title.split(' ').slice(0, 3).join(' ')}...</h4>
            <p><strong>${originalArtifact.date.split('-')[0]}</strong> | ${originalArtifact.location.split(',')[0]}</p>
            <p>${words.slice(0, remainingWords).join(' ')}...</p>
            <p>${originalArtifact.emotions[0]}, ${originalArtifact.people[0]}</p>
        `;
            if (originalArtifact.image) {
                content += transformImage(progress);
            }
            return content;
        }

        function createLateStageMemory(progress) {
            const words = originalArtifact.description.split(' ');
            const remainingWords = Math.max(1, Math.floor(words.length * (1 - progress)));
            let content = `
            <h4>${originalArtifact.title.split(' ')[0]}...</h4>
            <p><strong>${originalArtifact.date.split('-')[0]}</strong></p>
            <p>${words.slice(0, remainingWords).join(' ')}...</p>
            <p>${originalArtifact.emotions[0]}</p>
        `;
            if (originalArtifact.image) {
                content += transformImage(progress);
            }
            return content;
        }

        function createEndOfLifeMemory() {
            switch (hospiceParameters.endOfLifeAction) {
                case 'archive':
                    return `<p>Archived Memory: ${originalArtifact.title.split(' ')[0]}... (${originalArtifact.date.split('-')[0]})</p>`;
                case 'delete':
                    return '<p>This memory has been deleted.</p>';
                case 'repurpose':
                    return `<p>This memory has been repurposed: "${originalArtifact.emotions[0]} experience in ${originalArtifact.location.split(',')[0]}"</p>`;
            }
        }

        function proceedToNextStep() {
            if (currentStep < steps.length) {
                const step = steps[currentStep];
                switch (step.type) {
                    case 'story':
                        addElement('story', `<p>${step.content}</p>`);
                        break;
                    case 'upload':
                        uploadArtifact();
                        document.getElementById('proceedButton').style.display = 'none';
                        break;
                    case 'memory-seed':
                        createMemorySeed();
                        break;
                    case 'composted':
                        createCompostedMemory();
                        break;
                    case 'hospiced':
                        setupHospice();
                        document.getElementById('proceedButton').style.display = 'none';
                        break;
                    case 'time-simulation':
                        addTimeSimulation();
                        break;
                }
                currentStep++;
            }
            if (currentStep >= steps.length) {
                document.getElementById('proceedButton').style.display = 'none';
            }
        }

        document.getElementById('proceedButton').addEventListener('click', proceedToNextStep);
        proceedToNextStep(); // Start the journey
    </script>
</body>

</html>